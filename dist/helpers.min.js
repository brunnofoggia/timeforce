import _ from"lodash";var slice=Array.prototype.slice,extend=function(r,o){var t,n=this;return t=r&&_.has(r,"constructor")?r.constructor:function(){return n.apply(this,arguments)},_.extend(t,n,o),t.prototype=_.create(n.prototype,r),t.prototype.constructor=t,t.__super__=n.prototype,t},urlError=function(){throw new Error('A "url" property or function must be specified')},wrapError=function(r,o,t=""){var n=o.error,e=[];t&&e.push(t),e.push("error"),o.error=function(t){n&&n.call(o.context,r,t,o),r.trigger("error",r,t,o),2===e.length&&r.trigger(e.join(":"),r,t,o)}},fnfy=function(r,o,t){var n=_.isFunction(r[o])?r[o]:()=>r[o];return t?_.bind(n,t):n},jsonToQueryString=function(r,o,t){void 0===o&&(o=!1),void 0===t&&(t="");var n="";if("object"!=typeof r)return t+"="+encodeURIComponent(r)+"&";for(var e in r){var i=t+(""!=t?"[":"")+e+(""!=t?"]":"");_.isObject(r[e])&&!o?n+=jsonToQueryString(r[e],!1,""+i):Array.isArray(r[e])&&!o?r[e].forEach((function(r,o){n+=jsonToQueryString(r,!1,i+"["+o+"]")})):n+=i+"="+encodeURIComponent(r[e])+"&"}return n};export{slice,extend,urlError,wrapError,fnfy,jsonToQueryString};